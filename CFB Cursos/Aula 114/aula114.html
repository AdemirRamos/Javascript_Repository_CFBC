<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula 114 - POO Classes (Parte 5 - Herança)</title>

    <script>
 
        class Carro {

            //Herança: consiste em uma Classe herdando outra Classe.
            //A Classe que é herdada é chamada de "Pai"; a Classe que herda é chamada de "Filho". 

            //Basicamente, o modificador "static" (que pode ser método ou propriedade) torna o seu valor fixo.
            //Onde quer que o "static" seja usado, o seu valor sempre será o mesmo para todos os objetos da sua classe.
            //Para referenciar o "static", não usamos o "this", mas sim o nome da classe. - (Carro.alerta).
            //A partir do momento em que "static" é definido, todas as instâncias desta classe receberão o mesmo valor de "static".

            cor = "Vermelha" 

            constructor(fuel_type, car_type) {
                this.tipo_de_carro = car_type
                this.quantidade_de_combustível = 100
                this.ligado = false
                this.tipo_de_combustível = fuel_type  
            }

            //Criando métodos:

            /*static*/ info() {
                console.log(`Quantidade de combustível: ${this.quantidade_de_combustível}.`)
                console.log(`Ligado: ${this.ligado? "sim" : "não"}.`)
                console.log(`Tipo de combustível: ${this.tipo_de_combustível}.`)
                
                if (this.tipo_de_carro == 1) {
                    console.log(`Tipo de carro: "Passeio".`)
                }

                else if (this.tipo_de_carro == 2) {
                    console.log(`Tipo de carro: "Transporte".`)
                }

                else {
                    console.log(`Tipo de carro: "Combate".`)
                }
            }

            set set_ligado(t) {
                this.ligado = t
            }

            get get_ligado() {
                return this.ligado
            }

            //"Setter": é um método especial que altera valor (es) do (s) atributo (s).
            //Para definir um método "setter", basta alocar, antes do método, a palavra "set".
            //O "set" antes do nome do método serve apenas para evidenciar que este é um método "setter".
            //Para definir o método como um método "setter", é preciso alocar "set", antes do nome do método.

            /*set_alerta(t) {
                Carro.alerta = t
            }*/

            set set_combustível(valor) {
                if (valor < 0 || valor > 100) {
                    alert('Valor (do  combustível) inválido!')
                }
                else {
                    this.quantidade_de_combustível = valor
                }
            }

            //Já o "getter" é um método utilizado para se conseguir o valor de um atributo.

            get get_combustível() {
                return this.quantidade_de_combustível
            }
        }

        //Criando uma Classe que herda outra Classe:

        class Carro_de_Combate extends Carro {

            //Porém, para "super()" funcionar, antes é preciso um construtor.

            constructor(fire_power) {
                super(2, 3)
                this.munição = 1000
                this.potência_do_tiro = fire_power
                this.blindagem = 100  

                //"super()" nos permite acessar algum elemento da Classe Pai.

                //Tipos de combustível: 1 = Gasolina; 2 = Diesel; 3 = Etanol.

                //Tipos de carro: 1 = Carro de passeio; 2 = Carro de Transporte; 3 = Carro de Combate.
            }

            //Imprimindo, também, as características presentes na Classe Filho

            info() {
                super.info() //Capturando e aplicando o método "info()" da "classe-pai".
                console.log(`Quantidade de munição: ${this.munição}.`)
                console.log(`Potência de tiro: ${this.potência_do_tiro}%.`)
                console.log(`Blindagem do veículo: ${this.blindagem}%.`)
                console.log('----------------------------------------------------------------------------------------------')

                //"info()" do Filho chamando "info()" do pai.
            }
        }

        class Carro_de_Transporte extends Carro {
            constructor() { //Esse "constructor()" faz referência à Carro_de_Transporte.
                super(2, 2) //Esse "super()" faz referência à Carro.

                //Em outras palavras: para "super()" funcionar, é preciso um "constructor()";
                //"super()" fará referência ao "constructor()" da "classe-pai";
                //Já o "constructor()" na classe filho, existirá para passagem de parâmetros e/ou habilitar "super()".
            }
        }

        //let car_1 = new Carro(1)
        let car_1 = new Carro_de_Combate(100)
        let car_2 = new Carro_de_Transporte()

        /*car_1.set_combustível(100)*/

        //car_1.set_combustível = '100%' /*400 -> Resultado: "alert('Valor (do combustível) inválido!').*/
        //car_2.set_combustível = '100%'

        /*console.log(car_1.get_combustível())*/

        //console.log(car_1.get_combustível)
        
        //car_1.desligar()

        /*Mudando a cor dos carros:*/

        //car_1.cor = 'Preta'
        //car_2.cor = 'Branca'
        //car_3.cor = 'Marrom'
        //car_4.cor = 'Laranaja'

        //car_1.set_alerta(false) //Essa configuração vale para qualquer objeto desta classe.

        //car_1.set_alert = false

        Carro.alerta = false

        car_1.set_ligado = true //Método herdado de Carro.
        car_1.info()
        car_2.info()

    </script>

</head>

<body>

</body>

</html>
